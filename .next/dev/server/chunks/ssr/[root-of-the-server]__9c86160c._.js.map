{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminLayout.js"],"sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nfunction NavLink({ href, label }) {\n  const router = useRouter();\n  const active = router.asPath.startsWith(href);\n  return (\n    <Link\n      href={href}\n      className={\n        'block rounded-md px-3 py-2 text-sm ' +\n        (active ? 'bg-navy-700 text-white' : 'text-navy-900 hover:bg-navy-100')\n      }\n    >\n      {label}\n    </Link>\n  );\n}\n\nexport default function AdminLayout({ children }) {\n  async function signOut() {\n    await supabase.auth.signOut();\n    window.location.href = '/admin/login';\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-[240px,1fr] gap-6\">\n          <aside className=\"bg-white border border-gray-100 rounded-xl shadow-soft p-4 h-max sticky top-6\">\n            <p className=\"font-display text-lg text-navy-800\">Admin</p>\n            <nav className=\"mt-3 space-y-1\">\n              <NavLink href=\"/admin/dashboard\" label=\"Dashboard\" />\n              <NavLink href=\"/admin/articles\" label=\"Articles\" />\n              <NavLink href=\"/admin/events\" label=\"Events\" />\n              <NavLink href=\"/admin/photos\" label=\"Photos\" />\n              <NavLink href=\"/admin/students\" label=\"Students\" />\n                      <NavLink href=\"/admin/teachers\" label=\"Teachers\" />\n                      <NavLink href=\"/admin/parents\" label=\"Parents\" />\n                      <NavLink href=\"/admin/applications\" label=\"Applications\" />\n              <NavLink href=\"/admin/announcements\" label=\"Announcements\" />\n              <NavLink href=\"/admin/assignments\" label=\"Assignments\" />\n              <NavLink href=\"/admin/grades\" label=\"Grades\" />\n              <NavLink href=\"/admin/teacher-debug\" label=\"Teacher Debug\" />\n              <NavLink href=\"/admin/content\" label=\"Content\" />\n              <NavLink href=\"/admin/content-settings\" label=\"Content Settings\" />\n              <NavLink href=\"/admin/settings\" label=\"Settings\" />\n            </nav>\n            <button onClick={signOut} className=\"mt-4 w-full rounded-md border px-3 py-2 text-sm\">Sign out</button>\n          </aside>\n          <main>{children}</main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,SAAS,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE;IAC9B,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,SAAS,OAAO,MAAM,CAAC,UAAU,CAAC;IACxC,qBACE,qKAAC,4KAAI;QACH,MAAM;QACN,WACE,wCACA,CAAC,SAAS,2BAA2B,iCAAiC;kBAGvE;;;;;;AAGP;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,eAAe;QACb,MAAM,sKAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAM,WAAU;;0CACf,qKAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAQ,MAAK;wCAAmB,OAAM;;;;;;kDACvC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDAC9B,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAAsB,OAAM;;;;;;kDAClD,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAqB,OAAM;;;;;;kDACzC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAA0B,OAAM;;;;;;kDAC9C,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;;;;;;;0CAExC,qKAAC;gCAAO,SAAS;gCAAS,WAAU;0CAAkD;;;;;;;;;;;;kCAExF,qKAAC;kCAAM;;;;;;;;;;;;;;;;;;;;;;AAKjB"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminGuard.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function AdminGuard({ children }) {\n  const router = useRouter();\n  const [status, setStatus] = useState('loading');\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const { data } = await supabase.auth.getSession();\n      if (!mounted) return;\n      if (data?.session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    })();\n    const { data: sub } = supabase.auth.onAuthStateChange((_e, session) => {\n      if (!mounted) return;\n      if (session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    });\n    return () => { mounted = false; sub?.subscription?.unsubscribe(); };\n  }, [router]);\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\n        <div className=\"h-8 w-8 rounded-full border-4 border-navy-200 border-t-gold-500 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (status === 'authed') return children;\n  return null;\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sKAAQ,CAAC,IAAI,CAAC,UAAU;YAC/C,IAAI,CAAC,SAAS;YACd,IAAI,MAAM,SAAS,UAAU;iBACxB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF,CAAC;QACD,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,sKAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI;YACzD,IAAI,CAAC,SAAS;YACd,IAAI,SAAS,UAAU;iBAClB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF;QACA,OAAO;YAAQ,UAAU;YAAO,KAAK,cAAc;QAAe;IACpE,GAAG;QAAC;KAAO;IAEX,IAAI,WAAW,WAAW;QACxB,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,WAAW,UAAU,OAAO;IAChC,OAAO;AACT"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/pages/admin/content.js"],"sourcesContent":["import AdminLayout from '@/components/AdminLayout';\nimport AdminGuard from '@/components/AdminGuard';\nimport { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function AdminContent() {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [newItem, setNewItem] = useState({ key: '', page: '', section: '', value: '' });\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  async function load() {\n    setLoading(true);\n    const { data } = await supabase.from('site_content').select('*').order('page').order('section');\n    setItems(data || []);\n    setLoading(false);\n  }\n\n  async function saveItem(idx) {\n    setSaving(true);\n    const item = items[idx];\n    await supabase.from('site_content').upsert({ key: item.key, page: item.page, section: item.section, value: item.value, updated_at: new Date().toISOString() });\n    setSaving(false);\n  }\n\n  async function deleteItem(idx) {\n    const key = items[idx]?.key;\n    if (!key) return;\n    if (!confirm('Delete this content item?')) return;\n    await supabase.from('site_content').delete().eq('key', key);\n    await load();\n  }\n\n  async function addItem(e) {\n    e.preventDefault();\n    if (!newItem.key) return alert('Key is required');\n    await supabase.from('site_content').insert([newItem]);\n    setNewItem({ key: '', page: '', section: '', value: '' });\n    await load();\n  }\n\n  return (\n    <AdminGuard>\n      <AdminLayout>\n        <div className=\"py-2 max-w-5xl\">\n          <h1 className=\"heading-section\">Content</h1>\n\n          {loading ? (\n            <div className=\"card p-6 mt-6\">Loading...</div>\n          ) : (\n            <div className=\"space-y-6 mt-6\">\n              <form onSubmit={addItem} className=\"card p-6 grid md:grid-cols-4 gap-3\">\n                <input placeholder=\"key (unique)\" className=\"rounded-md border-gray-300\" value={newItem.key} onChange={(e)=>setNewItem({...newItem,key:e.target.value})} />\n                <input placeholder=\"page (e.g., home)\" className=\"rounded-md border-gray-300\" value={newItem.page} onChange={(e)=>setNewItem({...newItem,page:e.target.value})} />\n                <input placeholder=\"section (e.g., hero.title)\" className=\"rounded-md border-gray-300\" value={newItem.section} onChange={(e)=>setNewItem({...newItem,section:e.target.value})} />\n                <div className=\"flex gap-2\">\n                  <button className=\"btn-primary\">Add</button>\n                </div>\n                <div className=\"md:col-span-4\">\n                  <textarea placeholder=\"value\" className=\"w-full rounded-md border-gray-300\" rows={3} value={newItem.value} onChange={(e)=>setNewItem({...newItem,value:e.target.value})} />\n                </div>\n              </form>\n\n              <div className=\"card overflow-hidden\">\n                <table className=\"w-full text-left\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-sm font-medium text-gray-600\">Key</th>\n                      <th className=\"px-4 py-3 text-sm font-medium text-gray-600\">Page</th>\n                      <th className=\"px-4 py-3 text-sm font-medium text-gray-600\">Section</th>\n                      <th className=\"px-4 py-3 text-sm font-medium text-gray-600\">Value</th>\n                      <th className=\"px-4 py-3 text-sm font-medium text-gray-600\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {items.map((it, idx) => (\n                      <tr key={it.key} className=\"border-t border-gray-100\">\n                        <td className=\"px-4 py-3 font-mono text-xs\">{it.key}</td>\n                        <td className=\"px-4 py-3 text-sm\">{it.page}</td>\n                        <td className=\"px-4 py-3 text-sm\">{it.section}</td>\n                        <td className=\"px-4 py-3\">\n                          <textarea className=\"w-full rounded-md border-gray-300 text-sm\" rows={3} value={it.value || ''} onChange={(e)=>{\n                            const n = [...items];\n                            n[idx] = { ...n[idx], value: e.target.value };\n                            setItems(n);\n                          }} />\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex gap-2\">\n                            <button onClick={()=>saveItem(idx)} className=\"px-3 py-1.5 rounded-md bg-gold-600 text-white text-sm\" disabled={saving}>{saving ? 'Saving...' : 'Save'}</button>\n                            <button onClick={()=>deleteItem(idx)} className=\"px-3 py-1.5 rounded-md border text-sm\">Delete</button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      </AdminLayout>\n    </AdminGuard>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}}]
}