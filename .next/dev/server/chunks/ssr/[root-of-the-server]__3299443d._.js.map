{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminLayout.js"],"sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nfunction NavLink({ href, label }) {\n  const router = useRouter();\n  const active = router.asPath.startsWith(href);\n  return (\n    <Link\n      href={href}\n      className={\n        'block rounded-md px-3 py-2 text-sm ' +\n        (active ? 'bg-navy-700 text-white' : 'text-navy-900 hover:bg-navy-100')\n      }\n    >\n      {label}\n    </Link>\n  );\n}\n\nexport default function AdminLayout({ children }) {\n  async function signOut() {\n    await supabase.auth.signOut();\n    window.location.href = '/admin/login';\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-[240px,1fr] gap-6\">\n          <aside className=\"bg-white border border-gray-100 rounded-xl shadow-soft p-4 h-max sticky top-6\">\n            <p className=\"font-display text-lg text-navy-800\">Admin</p>\n            <nav className=\"mt-3 space-y-1\">\n              <NavLink href=\"/admin/dashboard\" label=\"Dashboard\" />\n              <NavLink href=\"/admin/articles\" label=\"Articles\" />\n              <NavLink href=\"/admin/events\" label=\"Events\" />\n              <NavLink href=\"/admin/photos\" label=\"Photos\" />\n              <NavLink href=\"/admin/students\" label=\"Students\" />\n                      <NavLink href=\"/admin/teachers\" label=\"Teachers\" />\n                      <NavLink href=\"/admin/parents\" label=\"Parents\" />\n                      <NavLink href=\"/admin/applications\" label=\"Applications\" />\n              <NavLink href=\"/admin/announcements\" label=\"Announcements\" />\n              <NavLink href=\"/admin/assignments\" label=\"Assignments\" />\n              <NavLink href=\"/admin/grades\" label=\"Grades\" />\n              <NavLink href=\"/admin/teacher-debug\" label=\"Teacher Debug\" />\n              <NavLink href=\"/admin/content\" label=\"Content\" />\n              <NavLink href=\"/admin/content-settings\" label=\"Content Settings\" />\n              <NavLink href=\"/admin/settings\" label=\"Settings\" />\n            </nav>\n            <button onClick={signOut} className=\"mt-4 w-full rounded-md border px-3 py-2 text-sm\">Sign out</button>\n          </aside>\n          <main>{children}</main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,SAAS,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE;IAC9B,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,SAAS,OAAO,MAAM,CAAC,UAAU,CAAC;IACxC,qBACE,qKAAC,4KAAI;QACH,MAAM;QACN,WACE,wCACA,CAAC,SAAS,2BAA2B,iCAAiC;kBAGvE;;;;;;AAGP;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,eAAe;QACb,MAAM,sKAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAM,WAAU;;0CACf,qKAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAQ,MAAK;wCAAmB,OAAM;;;;;;kDACvC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDAC9B,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAAsB,OAAM;;;;;;kDAClD,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAqB,OAAM;;;;;;kDACzC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAA0B,OAAM;;;;;;kDAC9C,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;;;;;;;0CAExC,qKAAC;gCAAO,SAAS;gCAAS,WAAU;0CAAkD;;;;;;;;;;;;kCAExF,qKAAC;kCAAM;;;;;;;;;;;;;;;;;;;;;;AAKjB"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminGuard.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function AdminGuard({ children }) {\n  const router = useRouter();\n  const [status, setStatus] = useState('loading');\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const { data } = await supabase.auth.getSession();\n      if (!mounted) return;\n      if (data?.session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    })();\n    const { data: sub } = supabase.auth.onAuthStateChange((_e, session) => {\n      if (!mounted) return;\n      if (session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    });\n    return () => { mounted = false; sub?.subscription?.unsubscribe(); };\n  }, [router]);\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\n        <div className=\"h-8 w-8 rounded-full border-4 border-navy-200 border-t-gold-500 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (status === 'authed') return children;\n  return null;\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sKAAQ,CAAC,IAAI,CAAC,UAAU;YAC/C,IAAI,CAAC,SAAS;YACd,IAAI,MAAM,SAAS,UAAU;iBACxB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF,CAAC;QACD,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,sKAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI;YACzD,IAAI,CAAC,SAAS;YACd,IAAI,SAAS,UAAU;iBAClB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF;QACA,OAAO;YAAQ,UAAU;YAAO,KAAK,cAAc;QAAe;IACpE,GAAG;QAAC;KAAO;IAEX,IAAI,WAAW,WAAW;QACxB,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,WAAW,UAAU,OAAO;IAChC,OAAO;AACT"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/pages/admin/teacher-debug.js"],"sourcesContent":["import AdminLayout from '@/components/AdminLayout';\nimport AdminGuard from '@/components/AdminGuard';\nimport { useState } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function TeacherDebug() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [result, setResult] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  async function testLogin() {\n    setLoading(true);\n    setResult('');\n    \n    try {\n      console.log('Testing login with:', { email, password: '***' });\n      \n      const { data, error } = await supabase.auth.signInWithPassword({\n        email: email.trim().toLowerCase(),\n        password,\n      });\n\n      if (error) {\n        setResult(`❌ Login failed: ${error.message}`);\n        return;\n      }\n\n      // Check teacher record\n      const { data: teacher, error: teacherError } = await supabase\n        .from('teachers')\n        .select('*')\n        .eq('user_id', data.user.id)\n        .single();\n\n      if (teacherError) {\n        setResult(`❌ Teacher lookup failed: ${teacherError.message}`);\n        return;\n      }\n\n      if (!teacher) {\n        setResult('❌ No teacher record found for this user');\n        return;\n      }\n\n      setResult(`✅ Login successful! Teacher: ${teacher.first_name} ${teacher.last_name} (${teacher.teacher_id})`);\n      \n      // Sign out after test\n      await supabase.auth.signOut();\n      \n    } catch (error) {\n      setResult(`❌ Error: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function listTeachers() {\n    setLoading(true);\n    setResult('');\n    \n    try {\n      const { data: teachers, error } = await supabase\n        .from('teachers')\n        .select('teacher_id, first_name, last_name, email, user_id')\n        .order('created_at', { ascending: false });\n\n      if (error) {\n        setResult(`❌ Failed to fetch teachers: ${error.message}`);\n        return;\n      }\n\n      if (!teachers || teachers.length === 0) {\n        setResult('❌ No teachers found in database');\n        return;\n      }\n\n      const teacherList = teachers.map(t => \n        `${t.teacher_id}: ${t.first_name} ${t.last_name} (${t.email}) - User ID: ${t.user_id}`\n      ).join('\\n');\n\n      setResult(`✅ Found ${teachers.length} teachers:\\n\\n${teacherList}`);\n      \n    } catch (error) {\n      setResult(`❌ Error: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <AdminGuard>\n      <AdminLayout>\n        <div className=\"py-2\">\n          <h1 className=\"heading-section\">Teacher Login Debug</h1>\n          \n          <div className=\"card p-6 mb-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Test Teacher Login</h2>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  className=\"w-full rounded-md border-gray-300\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"teacher@example.com\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Password</label>\n                <input\n                  type=\"password\"\n                  className=\"w-full rounded-md border-gray-300\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"firstnamelastnameyear\"\n                />\n              </div>\n              \n              <div className=\"flex gap-3\">\n                <button\n                  onClick={testLogin}\n                  disabled={loading || !email || !password}\n                  className=\"btn-primary\"\n                >\n                  {loading ? 'Testing...' : 'Test Login'}\n                </button>\n                \n                <button\n                  onClick={listTeachers}\n                  disabled={loading}\n                  className=\"btn-secondary\"\n                >\n                  List Teachers\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {result && (\n            <div className=\"card p-6\">\n              <h2 className=\"text-xl font-semibold mb-4\">Result</h2>\n              <pre className=\"whitespace-pre-wrap text-sm bg-gray-50 p-4 rounded-lg\">\n                {result}\n              </pre>\n            </div>\n          )}\n\n          <div className=\"card p-6 mt-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Troubleshooting Steps</h2>\n            <div className=\"space-y-3 text-sm\">\n              <div>\n                <strong>1. Check if teacher exists:</strong> Use \"List Teachers\" button to see all registered teachers\n              </div>\n              <div>\n                <strong>2. Verify credentials:</strong> Make sure email and password match exactly what was created\n              </div>\n              <div>\n                <strong>3. Password format:</strong> Should be firstnamelastnameyear (e.g., sarahjohnson2024)\n              </div>\n              <div>\n                <strong>4. Email format:</strong> Should be the exact email used during registration\n              </div>\n              <div>\n                <strong>5. Check Supabase:</strong> Verify the teacher record exists in the teachers table\n              </div>\n            </div>\n          </div>\n        </div>\n      </AdminLayout>\n    </AdminGuard>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}