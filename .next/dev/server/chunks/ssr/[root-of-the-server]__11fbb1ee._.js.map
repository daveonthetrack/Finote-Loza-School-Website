{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminLayout.js"],"sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nfunction NavLink({ href, label }) {\n  const router = useRouter();\n  const active = router.asPath.startsWith(href);\n  return (\n    <Link\n      href={href}\n      className={\n        'block rounded-md px-3 py-2 text-sm ' +\n        (active ? 'bg-navy-700 text-white' : 'text-navy-900 hover:bg-navy-100')\n      }\n    >\n      {label}\n    </Link>\n  );\n}\n\nexport default function AdminLayout({ children }) {\n  async function signOut() {\n    await supabase.auth.signOut();\n    window.location.href = '/admin/login';\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-[240px,1fr] gap-6\">\n          <aside className=\"bg-white border border-gray-100 rounded-xl shadow-soft p-4 h-max sticky top-6\">\n            <p className=\"font-display text-lg text-navy-800\">Admin</p>\n            <nav className=\"mt-3 space-y-1\">\n              <NavLink href=\"/admin/dashboard\" label=\"Dashboard\" />\n              <NavLink href=\"/admin/articles\" label=\"Articles\" />\n              <NavLink href=\"/admin/events\" label=\"Events\" />\n              <NavLink href=\"/admin/photos\" label=\"Photos\" />\n              <NavLink href=\"/admin/students\" label=\"Students\" />\n                      <NavLink href=\"/admin/teachers\" label=\"Teachers\" />\n                      <NavLink href=\"/admin/parents\" label=\"Parents\" />\n                      <NavLink href=\"/admin/applications\" label=\"Applications\" />\n              <NavLink href=\"/admin/announcements\" label=\"Announcements\" />\n              <NavLink href=\"/admin/assignments\" label=\"Assignments\" />\n              <NavLink href=\"/admin/grades\" label=\"Grades\" />\n              <NavLink href=\"/admin/teacher-debug\" label=\"Teacher Debug\" />\n              <NavLink href=\"/admin/content\" label=\"Content\" />\n              <NavLink href=\"/admin/content-settings\" label=\"Content Settings\" />\n              <NavLink href=\"/admin/settings\" label=\"Settings\" />\n            </nav>\n            <button onClick={signOut} className=\"mt-4 w-full rounded-md border px-3 py-2 text-sm\">Sign out</button>\n          </aside>\n          <main>{children}</main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,SAAS,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE;IAC9B,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,SAAS,OAAO,MAAM,CAAC,UAAU,CAAC;IACxC,qBACE,qKAAC,4KAAI;QACH,MAAM;QACN,WACE,wCACA,CAAC,SAAS,2BAA2B,iCAAiC;kBAGvE;;;;;;AAGP;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,eAAe;QACb,MAAM,sKAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAM,WAAU;;0CACf,qKAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAQ,MAAK;wCAAmB,OAAM;;;;;;kDACvC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDAC9B,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;kDACtC,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAAsB,OAAM;;;;;;kDAClD,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAqB,OAAM;;;;;;kDACzC,qKAAC;wCAAQ,MAAK;wCAAgB,OAAM;;;;;;kDACpC,qKAAC;wCAAQ,MAAK;wCAAuB,OAAM;;;;;;kDAC3C,qKAAC;wCAAQ,MAAK;wCAAiB,OAAM;;;;;;kDACrC,qKAAC;wCAAQ,MAAK;wCAA0B,OAAM;;;;;;kDAC9C,qKAAC;wCAAQ,MAAK;wCAAkB,OAAM;;;;;;;;;;;;0CAExC,qKAAC;gCAAO,SAAS;gCAAS,WAAU;0CAAkD;;;;;;;;;;;;kCAExF,qKAAC;kCAAM;;;;;;;;;;;;;;;;;;;;;;AAKjB"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/components/AdminGuard.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function AdminGuard({ children }) {\n  const router = useRouter();\n  const [status, setStatus] = useState('loading');\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const { data } = await supabase.auth.getSession();\n      if (!mounted) return;\n      if (data?.session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    })();\n    const { data: sub } = supabase.auth.onAuthStateChange((_e, session) => {\n      if (!mounted) return;\n      if (session) setStatus('authed');\n      else {\n        setStatus('anon');\n        router.replace('/admin/login');\n      }\n    });\n    return () => { mounted = false; sub?.subscription?.unsubscribe(); };\n  }, [router]);\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\n        <div className=\"h-8 w-8 rounded-full border-4 border-navy-200 border-t-gold-500 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (status === 'authed') return children;\n  return null;\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sKAAQ,CAAC,IAAI,CAAC,UAAU;YAC/C,IAAI,CAAC,SAAS;YACd,IAAI,MAAM,SAAS,UAAU;iBACxB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF,CAAC;QACD,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,sKAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI;YACzD,IAAI,CAAC,SAAS;YACd,IAAI,SAAS,UAAU;iBAClB;gBACH,UAAU;gBACV,OAAO,OAAO,CAAC;YACjB;QACF;QACA,OAAO;YAAQ,UAAU;YAAO,KAAK,cAAc;QAAe;IACpE,GAAG;QAAC;KAAO;IAEX,IAAI,WAAW,WAAW;QACxB,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,WAAW,UAAU,OAAO;IAChC,OAAO;AACT"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/daveonthetrack/Projects/Finote%20Loza/finote-loza-school/pages/admin/dashboard.js"],"sourcesContent":["import AdminLayout from '@/components/AdminLayout';\nimport AdminGuard from '@/components/AdminGuard';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport default function Dashboard() {\n  const [stats, setStats] = useState({ articles: 0, events: 0, photos: 0 });\n\n  useEffect(() => {\n    async function loadStats() {\n      const [{ count: aCount }, { count: eCount }, { count: pCount }] = await Promise.all([\n        supabase.from('articles').select('*', { count: 'exact', head: true }),\n        supabase.from('events').select('*', { count: 'exact', head: true }),\n        supabase.from('photos').select('*', { count: 'exact', head: true }),\n      ]);\n      setStats({ articles: aCount || 0, events: eCount || 0, photos: pCount || 0 });\n    }\n    loadStats();\n  }, []);\n\n  async function handleSignOut() {\n    await supabase.auth.signOut();\n    window.location.href = '/admin/login';\n  }\n\n  return (\n    <AdminGuard>\n      <AdminLayout>\n        <div className=\"py-2\">\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"heading-section\">Admin Dashboard</h1>\n            <button onClick={handleSignOut} className=\"inline-flex items-center rounded-md border px-3 py-1.5\">Sign out</button>\n          </div>\n\n          <div className=\"mt-8 grid gap-6 md:grid-cols-4\">\n            <Link href=\"/admin/articles\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Articles</p>\n              <p className=\"mt-1 text-3xl font-semibold\">{stats.articles}</p>\n            </Link>\n            <Link href=\"/admin/events\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Events</p>\n              <p className=\"mt-1 text-3xl font-semibold\">{stats.events}</p>\n            </Link>\n            <Link href=\"/admin/photos\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Photos</p>\n              <p className=\"mt-1 text-3xl font-semibold\">{stats.photos}</p>\n            </Link>\n            <Link href=\"/admin/applications\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Applications</p>\n              <p className=\"mt-1 text-3xl font-semibold\">→</p>\n            </Link>\n          </div>\n          \n          <div className=\"mt-8 grid gap-6 md:grid-cols-3\">\n            <Link href=\"/admin/settings\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Site Settings</p>\n              <p className=\"mt-1 text-3xl font-semibold\">→</p>\n            </Link>\n            <Link href=\"/admin/students\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Students</p>\n              <p className=\"mt-1 text-3xl font-semibold\">→</p>\n            </Link>\n            <Link href=\"/admin/announcements\" className=\"card p-5 hover:shadow-lg transition\">\n              <p className=\"text-sm text-gray-600\">Announcements</p>\n              <p className=\"mt-1 text-3xl font-semibold\">→</p>\n            </Link>\n          </div>\n        </div>\n      </AdminLayout>\n    </AdminGuard>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;QAAE,UAAU;QAAG,QAAQ;QAAG,QAAQ;IAAE;IAEvE,IAAA,gHAAS,EAAC;QACR,eAAe;YACb,MAAM,CAAC,EAAE,OAAO,MAAM,EAAE,EAAE,EAAE,OAAO,MAAM,EAAE,EAAE,EAAE,OAAO,MAAM,EAAE,CAAC,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAClF,sKAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK;oBAAE,OAAO;oBAAS,MAAM;gBAAK;gBACnE,sKAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC,KAAK;oBAAE,OAAO;oBAAS,MAAM;gBAAK;gBACjE,sKAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC,KAAK;oBAAE,OAAO;oBAAS,MAAM;gBAAK;aAClE;YACD,SAAS;gBAAE,UAAU,UAAU;gBAAG,QAAQ,UAAU;gBAAG,QAAQ,UAAU;YAAE;QAC7E;QACA;IACF,GAAG,EAAE;IAEL,eAAe;QACb,MAAM,sKAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,qKAAC,wKAAU;kBACT,cAAA,qKAAC,yKAAW;sBACV,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAG,WAAU;0CAAkB;;;;;;0CAChC,qKAAC;gCAAO,SAAS;gCAAe,WAAU;0CAAyD;;;;;;;;;;;;kCAGrG,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,4KAAI;gCAAC,MAAK;gCAAkB,WAAU;;kDACrC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA+B,MAAM,QAAQ;;;;;;;;;;;;0CAE5D,qKAAC,4KAAI;gCAAC,MAAK;gCAAgB,WAAU;;kDACnC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA+B,MAAM,MAAM;;;;;;;;;;;;0CAE1D,qKAAC,4KAAI;gCAAC,MAAK;gCAAgB,WAAU;;kDACnC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA+B,MAAM,MAAM;;;;;;;;;;;;0CAE1D,qKAAC,4KAAI;gCAAC,MAAK;gCAAsB,WAAU;;kDACzC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;kCAI/C,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,4KAAI;gCAAC,MAAK;gCAAkB,WAAU;;kDACrC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;0CAE7C,qKAAC,4KAAI;gCAAC,MAAK;gCAAkB,WAAU;;kDACrC,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;0CAE7C,qKAAC,4KAAI;gCAAC,MAAK;gCAAuB,WAAU;;kDAC1C,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,qKAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzD"}}]
}